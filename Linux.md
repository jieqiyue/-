### 磁盘，CPU

> 怎样查看内存使用情况

使用fdisk命令

### 文件

> inode 节点

inode节点存放了一个文件的权限信息，大小等。文件名被存放在该文件的父节点上。在inode后面连接的是数据块的信息。删除一个文件的时候只是将文件名和inode的连接断开。所以能够很快的删除一个文件。可以使用ln命令来添加文件名到inode的连接。当删除其中一个链接的时候，因为还有其它的，所以还是能够找到那个文件。而且这个ln命令创建的连接只能够在同一个分区中使用。不能够跨越分区。

如果要跨越分区。可以使用软链接。`ln -s afile s-afile`使用该命令来创建一个软链接。

**有时候对于一个文件，对于user1可以读，而对于user2可以写，那么对于这种复杂的需求，原来的文件组和文件所有者的权限管理就显得无能为力了。此时可以使用facl来实现。如下所示：**

- 查看所拥有的权限

```
gfacl afile 

# file: afile
# owner: root
# group: root
user::rw-
group::r--
other::r--
```

- 设置额外的权限

```
setfacl -m u:jie:rwx afile
```

### 脚本

> 执行命令的方式

- bash ./filename.sh
- ./filename.sh 
- source ./filename.sh 
- . filename.sh

下面两种是在当前进程进行执行的。而上面两种方式是在新的进程中执行命令。

> 变量

变量不区分类型。并且在赋值的时候在等号两边没有空格。如果使用let来修饰变量的话，右边可以进行运算。变量的输出最为标准的是`${变量名}`。也可以简写为`$变量名`

> 变量的作用范围

默认的变量作用范围只在当前进程有效。在父子进程间不能够读取到变量的值。如果要让其它进程能够读取到变量，那么可以使用export命令。可以使用unset命令取消变量。

> 变量的分类

- 环境变量

- 位置变量

- 预定义变量

  $0：保存当前程序或脚本的名称

  $*：保存传递给脚本或进程的所有参数

  $$：当前进程给脚本的PID号

> 环境变量

环境变量在很多个地方都有。/etc/profile, /etc/profile.d/ , ~/.bash_profile ... 

从位置方面来划分，一般可以分为etc下面的，和家目录下面的。这两种的区别就是如果对于每一个用户都需要用到的话，就放在etc目录下。

从文件类型来划分的话。一类是profile文件，一类是bashrc文件。

如果在登陆的时候使用`su - root `这种方式登陆的时候，那么四个文件都会被加载。并且有特定的加载顺序。login shell。

##### 运算

1. 使用let修饰变量，在等号右边可以进行运算。

2. 使用expr

   ``` shell
   expr 4 + 5
   num1=`expr 4 + 5`
   ```

3. 使用双括号

   ```shell
   (( a++ ))
   ```

   ​	

### 管道和重定向

管道就是进程间通信的方式。将前一个进程的输出作为第二个进程的输入。

在一个进程中，在运行的时候，会打开文件描述符。那么有三个文件描述符是会默认打开的。那么，第一个是标准输入，第二个是标准输出，第三个是异常的输出。那么，重定向就是利用其它的文件描述符来代替标准输出的描述符。

